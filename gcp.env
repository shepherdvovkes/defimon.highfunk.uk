
# =============================================================================
# GCP ETHEREUM NODE CONFIGURATION
# =============================================================================

# Google Cloud Project Settings
GOOGLE_CLOUD_PROJECT_ID=defimon-ethereum-node
GOOGLE_CLOUD_REGION=us-central1
GOOGLE_CLOUD_ZONE=us-central1-a

# Google Cloud Service Account
GOOGLE_CLOUD_SERVICE_ACCOUNT_EMAIL=defimon-infrastructure@defimon-ethereum-node.iam.gserviceaccount.com
GOOGLE_CLOUD_SERVICE_ACCOUNT_KEY_FILE=./gcp-infrastructure-key.json

# Google Cloud Billing Account
GOOGLE_CLOUD_BILLING_ACCOUNT=015967-9598B6-9CE08D

# Google Cloud Storage
GOOGLE_CLOUD_STORAGE_BUCKET=defimon-ethereum-data-bucket
GOOGLE_CLOUD_STORAGE_BACKUP_BUCKET=defimon-ethereum-backups

# Google Cloud SQL (PostgreSQL)
GOOGLE_CLOUD_SQL_INSTANCE_NAME=defimon-postgres-instance
GOOGLE_CLOUD_SQL_DATABASE_NAME=defi_analytics
GOOGLE_CLOUD_SQL_USER=defimon_user
GOOGLE_CLOUD_SQL_PASSWORD=defimon_secure_password_2024

# Google Cloud Pub/Sub (replaces Kafka)
GOOGLE_CLOUD_PUBSUB_TOPIC=defimon-ethereum-events
GOOGLE_CLOUD_PUBSUB_SUBSCRIPTION=defimon-ethereum-events-sub

# Google Cloud Memorystore (Redis)
GOOGLE_CLOUD_MEMORYSTORE_INSTANCE_NAME=defimon-redis-instance

# Google Cloud Load Balancer
GOOGLE_CLOUD_LOAD_BALANCER_NAME=defimon-ethereum-lb
GOOGLE_CLOUD_SSL_CERTIFICATE_NAME=defimon-ethereum-ssl-cert

# =============================================================================
# ETHEREUM NODE CONFIGURATION
# =============================================================================

# Ethereum Node Configuration
ETHEREUM_NODE_URL=http://localhost:8545
RPC_PORT=8545
WS_PORT=8546
P2P_PORT=30303

# Node Settings
SYNC_MODE=snap
CACHE_SIZE=2048
MAX_PEERS=50
RUST_LOG=info

# Lighthouse Configuration
LIGHTHOUSE_HTTP_PORT=5052
LIGHTHOUSE_P2P_PORT=9000
LIGHTHOUSE_CHECKPOINT_SYNC_URL=https://sync-mainnet.beaconcha.in

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Prometheus Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=200h

# Grafana Configuration
GRAFANA_ENABLED=true
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=admin

# Node Exporter Configuration
NODE_EXPORTER_ENABLED=true
NODE_EXPORTER_PORT=9100

# =============================================================================
# AUTO-SCALING CONFIGURATION
# =============================================================================

# Instance Group Settings
INSTANCE_GROUP_MIN_SIZE=1
INSTANCE_GROUP_MAX_SIZE=3
INSTANCE_GROUP_TARGET_CPU_UTILIZATION=0.7
INSTANCE_GROUP_COOLDOWN_PERIOD=300

# Machine Type
MACHINE_TYPE=e2-standard-4

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Persistent Disk Sizes
ETHEREUM_DATA_DISK_SIZE_GB=200
LIGHTHOUSE_DATA_DISK_SIZE_GB=50
BOOT_DISK_SIZE_GB=50

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# VPC Network
VPC_NETWORK_NAME=defimon-network
VPC_SUBNET_MODE=auto
VPC_BGP_ROUTING_MODE=regional
VPC_MTU=1460

# Firewall Rules
FIREWALL_ALLOW_INTERNAL=true
FIREWALL_ALLOW_EXTERNAL=true
FIREWALL_ALLOWED_PORTS=22,80,443,8545,8546,30303,9090,3000,5052,9100

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Secret (will be generated automatically)
JWT_SECRET_FILE=/opt/defimon/geth-jwtsecret

# Health Check Configuration
HEALTH_CHECK_PORT=8545
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_UNHEALTHY_THRESHOLD=3
HEALTH_CHECK_HEALTHY_THRESHOLD=2

# =============================================================================
# COST MONITORING
# =============================================================================

# Budget Configuration
BUDGET_AMOUNT_USD=300
BUDGET_ALERT_80_PERCENT=true
BUDGET_ALERT_100_PERCENT=true

# Cost Estimation
ESTIMATED_MONTHLY_COST_USD=150-250
